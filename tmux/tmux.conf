######################################################################
# .tmux.conf
######################################################################

# color ==============================================================
set-option -g  default-terminal "screen-256color"
set-option -ga terminal-overrides ",$TERM:RGB"

# visual setting =====================================================
source-file "$XDG_CONFIG_HOME/tmux/tmux_style.conf"

# buffer
set-option -g history-limit 100000

# mouse settings
set-option -g mouse on

# key settings
# prefix
unbind-key C-b
set-option -g prefix C-t
bind-key C-t send-prefix
# コピーモード時のキーバインドをviに
set-option -gw mode-keys vi
# Escape キー押下時の待ち時間 (関数・メタキーシーケンスの一部か判断するのに使うらしいけどいらない)
set-option -g escape-time 0
# タブ、ペインの開始indexを1に
set-option -g base-index 1
set-window-option -g pane-base-index 1

# key binds {{{
# <prefix> + C-d: tmux終了->デタッチに (間違えてセッション削除しないように)
bind-key C-d detach-client
# <prefix> + r: tmux.conf 再読み込み
bind-key r source-file ~/.tmux.conf \; display-message "'~/.tmux.conf' file reloaded."
# <prefix> + c: 新しいタブ (カレントパスは現在のパス)
bind-key c new-window -c "#{pane_current_path}"
# <prefix> + v: ペインを垂直方向に分割 (カレントパスは現在のパス)
bind-key v split-window -h -c "#{pane_current_path}"
# <prefix> + v: ペインを水平方向に分割 (カレントパスは現在のパス)
bind-key s split-window -v -c "#{pane_current_path}"
# <prefix> + C-q: ペインを削除
bind-key -r C-q confirm-before kill-pane     # [prefix][-q]      : kill pane

# move window
bind-key Left  select-pane -L  # <prefix> + Left   : ペインを左に移動
bind-key Down  select-pane -D  # <prefix> + Down   : ペインを下に移動
bind-key Up    select-pane -U  # <prefix> + Up     : ペインを上に移動
bind-key Right select-pane -R  # <prefix> + Right  : ペインを右に移動
bind-key h     select-pane -L  # <prefix> + h      : ペインを左に移動
bind-key j     select-pane -D  # <prefix> + j      : ペインを下に移動
bind-key k     select-pane -U  # <prefix> + k      : ペインを上に移動
bind-key l     select-pane -R  # <prefix> + l      : ペインを右に移動

# move tab
bind-key -r C-Left  select-window -t :-  # <prefix> + C-Right  : prev tab
bind-key -r C-Right select-window -t :+  # <prefix> + C-Left   : next tab
bind-key -r C-h     select-window -t :-  # <prefix> + C-h      : prev tab
bind-key -r C-l     select-window -t :+  # <prefix> + C-l      : next tab

# resize window
bind-key -r H resize-pane -L 5  # <prefix> + H  : risize pane of left
bind-key -r J resize-pane -D 5  # <prefix> + J  : risize pane of bottom
bind-key -r K resize-pane -U 5  # <prefix> + K  : risize pane of top
bind-key -r L resize-pane -R 5  # <prefix> + L  : risize pane of right
# }}}

# vim:set foldmethod=marker
